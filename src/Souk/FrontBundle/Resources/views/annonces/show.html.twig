{% extends 'FrontBundle::layout.html.twig' %}
{% block style %}

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link href="{{ asset('bundles/front/css/style_Nour.css') }}" rel="stylesheet"/>
    <link href="{{ asset('bundles/front/css/style_haifa_daoud.css') }}" rel="stylesheet"/>

{% endblock style %}
{% block body %}


    {# dev-haifa#}
    <ol class="breadcrumb">
        <li><a href="{{ path('front_homepage') }}">Annonce</a></li>
        <li><a href="">{{ annonce.categorie.designation }}</a></li>
        <li>{{ annonce.titre }}</li>


    </ol>
    <div class="row">
        <div class="col-xs-12 col-sm-7">
            <div class="panel panel-body">
                <div class="profile-about">
                    <div class="profile-photo">
                        <a href="{{ asset('bundles/front/images/pic1.jpg') }}" data-fancybox data-caption="{{ profile.fullName }}">
                            <img  src="{{ asset('bundles/front/images/pic1.jpg') }}"  alt="image"/>

                        </a>
                    </div>
                    <div class="profile-description">
                        <p>
                            {{ annonce.description|raw }}
                        </p>
                    </div>
                    <hr>
                </div>

                {% if annonce.commercial.adresse %}<span class="phone"><i class="fa fa-map-marker"></i> {{ annonce.commercial.adresse }}</span>{% endif %}
                {% if annonce.commercial.mobile %}<span class="phone"><i class="fa fa-phone"></i> {{ annonce.commercial.mobile }}</span>{% endif %}
                {% if annonce.commercial.email %}<span class="phone"><i class="fa fa-envelope"></i> {{ annonce.commercial.email }}</span>{% endif %}
            </div>
        </div>
        <div id="sidebar" class="col-xs-12 col-sm-5">
            <div id="map"><i class="glyphicon glyphicon-info-sign"></i> Carte non disponible</div>
        </div>
    </div>
    <br>
    {#
         <tr>
             <th>Disponible</th>
             <td>{% if annonce.disponible %}Yes{% else %}No{% endif %}</td>
         </tr>
         <tr>
             <th>Datecreation</th>
             <td>{% if annonce.dateCreation %}{{ annonce.dateCreation|date('Y-m-d') }}{% endif %}</td>
         </tr>
         </tbody>
     </table>#}
    {# dev-haifa#}

<!-- Nour's work -->
<div class="content">
    {% if com==0 %}
    <a href="#" class="btn left" data-toggle="modal" data-target="#newCom">

        <span class="right title"><span class="arrow-right"></span><span class=" fa fa-check"></span>    Commander</span>
    </a>
    {% else %}
        <a href="#" class="btn left" data-toggle="modal" data-target="#noCom">

            <span class="right title"><span class="arrow-right"></span><span class=" fa fa-check"></span>    Commander</span>
        </a>
    {% endif %}
</div>
    <!-- Modal new com-->
    <div id="newCom" class="modal fade" role="dialog">
        <div class="modal-dialog">
            {{ form_start(form) }}
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Nouvelle Commande </h4>
                </div>

                <div class="modal-body">

                        <div class="col-md-12">
                            <div class="form-group col-md-6">
                                {{ form_label(form.dateCom) }}
                                {{ form_errors(form.dateCom) }}
                                {{ form_widget(form.dateCom, {'attr': {'class': 'form-control'}}) }}
                            </div>
                            <div class="form-group col-md-6">
                                {{ form_label(form.quantite) }}
                                {{ form_errors(form.quantite) }}
                                {{ form_widget(form.quantite, {'attr': {'class': 'form-control'}}) }}
                            </div>
                        </div>

                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-default" ><i class="fa fa-check"></i>  Valider  </button>

                    <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i>  Fermer</button>

                </div>

            </div>
            {{ form_end(form) }}
        </div>
    </div>
    <!-- Modal no com-->
    <div id="noCom" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Nouvelle Commande </h4>
                </div>

                <div class="modal-body">
                    <p>Vus avez déjà une commande en attente pour cette annonce.</p>


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i>  Fermer</button>

                </div>

            </div>
        </div>
    </div>
{% endblock body %}
{% block js %}
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $( function() {
            $( "#souk_backbundle_commandes_dateCom" ).datepicker({
                altField: "#souk_backbundle_commandes_dateCom",
                altFormat: "yy-mm-dd"
            });
        } );
    </script>
{% endblock js %}